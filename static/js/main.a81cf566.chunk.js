(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,t,a){e.exports=a(275)},22:function(e,t,a){},275:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(34),l=a.n(c),o=a(9),i=(a(22),a(21)),m=a(24),s=a(46),u=a.n(s),d=a(66),p=a(40),f=a(41),E=a(42),D=a(44),v=a(45),y=a(31),w=new Date,T="".concat(w.getDate(),"-").concat(w.getMonth()+1,"-").concat(w.getFullYear()),h=function(){var e=Object(d.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.iev.aero/api/flights/".concat(T));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();var b=function(){return n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"tableHead"},"Terminal"),n.a.createElement("th",{className:"tableHead"},"Local time"),n.a.createElement("th",{className:"tableHead"},"Destination"),n.a.createElement("th",{className:"tableHead"},"Status"),n.a.createElement("th",{className:"tableHead"},"Airline"),n.a.createElement("th",{className:"tableHead"},"Flight"),n.a.createElement("th",{className:"tableHead"})))};var N=function(e){var t=e.activeDay,a=e.yesterday,r=e.today,c=e.tomorrow,l=new Date;return n.a.createElement("div",{className:"dateContainer"},n.a.createElement(o.b,{to:"/departures/".concat(a()),className:"dateDayContainer",activeClassName:"activeDate",onClick:function(){return t("YESTERDAY")}},n.a.createElement("div",{className:"dateDay"},"".concat(l.getDate()-1,"/").concat(l.getMonth()+1)),n.a.createElement("div",{className:"dateText"},"YESTERDAY")),n.a.createElement(o.b,{to:"/departures/".concat(r()),className:"dateDayContainer",activeClassName:"activeDate",onClick:function(){return t("TODAY")}},n.a.createElement("div",{className:"dateDay"},"".concat(l.getDate(),"/").concat(l.getMonth()+1)),n.a.createElement("div",{className:"dateText"},"TODAY")),n.a.createElement(o.b,{to:"/departures/".concat(c()),className:"dateDayContainer",activeClassName:"activeDate",onClick:function(){return t("TOMORROW")}},n.a.createElement("div",{className:"dateDay"},"".concat(l.getDate()+1,"/").concat(l.getMonth()+1)),n.a.createElement("div",{className:"dateText"},"TOMORROW")))},g=function(e){return new Date(e).toLocaleTimeString("uk-UA")},S=function(e){var t=e.departure,a=e.activeDay,r=e.yesterday,c=e.today,l=e.tomorrow,i=e.props,m=e.setItemForDetails;return n.a.createElement(n.a.Fragment,null,n.a.createElement(N,{activeDay:a,yesterday:r,today:c,tomorrow:l,props:i}),n.a.createElement("table",null,n.a.createElement(b,null),n.a.createElement("tbody",null,t.map(function(e,t){return n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",{key:e.ID,className:t%2===0?"row oddRow":"row"},n.a.createElement("td",{className:"cell terminal"},n.a.createElement("span",{className:"A"===e.term?"terminalA":"terminalD"},e.term)),n.a.createElement("td",{className:"cell"},g(e.timeToStand)),n.a.createElement("td",{className:"cell"},e["airportToID.city_en"]),n.a.createElement("td",{className:"cell"},function(e){if("DP"===e.status)return"Departed at ".concat(g(e.timeDepExpectCalc));switch(e.status){case"CX":return"Cancelled";case"CK":return"Check-in";case"ON":return"On time";default:return""}}(e)),n.a.createElement("td",{className:"cell"},e.airline.en.name),n.a.createElement("td",{className:"cell"},e["carrierID.IATA"]+e.fltNo),n.a.createElement("td",{className:"cell lasetCell"},n.a.createElement(o.b,{to:"/departuresDetails",exact:!0,onClick:function(){return m([e])}},"Flight details"))))}))))};var O=function(e){var t=e.activeDay,a=e.yesterday,r=e.today,c=e.tomorrow,l=new Date;return n.a.createElement("div",{className:"dateContainer"},n.a.createElement(o.b,{to:"/arrivals/".concat(a()),className:"dateDayContainer",activeClassName:"activeDate",onClick:function(){return t("YESTERDAY")}},n.a.createElement("div",{className:"dateDay"},"".concat(l.getDate()-1,"/").concat(l.getMonth()+1)),n.a.createElement("div",{className:"dateText"},"YESTERDAY")),n.a.createElement(o.b,{to:"/arrivals/".concat(r()),className:"dateDayContainer",activeClassName:"activeDate",onClick:function(){return t("TODAY")}},n.a.createElement("div",{className:"dateDay"},"".concat(l.getDate(),"/").concat(l.getMonth()+1)),n.a.createElement("div",{className:"dateText"},"TODAY")),n.a.createElement(o.b,{to:"/arrivals/".concat(c()),exact:!0,className:"dateDayContainer",activeClassName:"activeDate",onClick:function(){return t("TOMORROW")}},n.a.createElement("div",{className:"dateDay"},"".concat(l.getDate()+1,"/").concat(l.getMonth()+1)),n.a.createElement("div",{className:"dateText"},"TOMORROW")))},F=function(e){var t=e.arrival,a=e.activeDay,r=e.yesterday,c=e.today,l=e.tomorrow,i=e.props,m=e.setItemForDetails,s=function(e){if("LN"===e.status)return"Landed ".concat((t=e.timeLandFact,new Date(t).toLocaleTimeString("uk-UA")));var t;switch(e.status){case"CX":return"Cancelled";case"FR":return"In flight";case"ON":return"On time";default:return""}};return n.a.createElement(n.a.Fragment,null,n.a.createElement(O,{activeDay:a,yesterday:r,today:c,tomorrow:l,props:i}),n.a.createElement("table",null,n.a.createElement(b,null),n.a.createElement("tbody",null,t.map(function(e,t){return n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",{key:e.ID,className:t%2===0?"row oddRow":"row"},n.a.createElement("td",{className:"cell terminal"},n.a.createElement("span",{className:"A"===e.term?"terminalA":"terminalD"},e.term)),n.a.createElement("td",{className:"cell"},new Date("".concat(e.timeToStand," UTC")).toTimeString().slice(0,8)),n.a.createElement("td",{className:"cell"},e["airportFromID.city_en"]),n.a.createElement("td",{className:"cell"},s(e)),n.a.createElement("td",{className:"cell"},e.airline.en.name),n.a.createElement("td",{className:"cell"},e["carrierID.IATA"]+e.fltNo),n.a.createElement("td",{className:"cell lasetCell"},n.a.createElement(o.b,{to:"/arrivalsDetails",exact:!0,onClick:function(){return m([e])}},"Flight details"))))}))))},C=a(282);var A=function(e){var t=e.filterForCities,a=e.buttonFromFilter;return n.a.createElement("form",{className:"search",action:""},n.a.createElement(C.a,{className:"searchInput",placeholder:"Set name of the city",onChange:function(e){return t(e.target.value)}}),n.a.createElement("button",{type:"button",className:"searchButton",onClick:function(){return a()}},"SEARCH"))},k=a(276);var j=function(e){var t=e.logo,a=e.number,r=e.to,c=e.terminal,l=e.planeNo,i=e.planeType,m=e.arrivalTime;return n.a.createElement(n.a.Fragment,null,n.a.createElement(o.b,{to:"/",exact:!0},n.a.createElement(k.a,{type:"button"},"HOME!")),n.a.createElement("img",{alt:"logo",src:t}),n.a.createElement("p",null,"Number of flight: ".concat(a)),n.a.createElement("p",null,"Flight from: ".concat(r)),n.a.createElement("p",null,"Terminal: ".concat(c)),n.a.createElement("p",null,"Number of plane: ".concat(l)),n.a.createElement("p",null,"Type of plane: ".concat(i)),n.a.createElement("p",null,"Arrival time: ".concat(m)))};var I=function(e){var t=e.logo,a=e.number,r=e.from,c=e.terminal,l=e.planeNo,i=e.planeType,m=e.arrivalTime;return n.a.createElement(n.a.Fragment,null,n.a.createElement(o.b,{to:"/",exact:!0},n.a.createElement(k.a,{type:"button"},"HOME!")),n.a.createElement("img",{alt:"logo",src:t}),n.a.createElement("p",null,"Number of flight: ".concat(a)),n.a.createElement("p",null,"Flight from: ".concat(r)),n.a.createElement("p",null,"Terminal: ".concat(c)),n.a.createElement("p",null,"Number of plane: ".concat(l)),n.a.createElement("p",null,"Type of plane: ".concat(i)),n.a.createElement("p",null,"Arrival time: ".concat(m)))};function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var x=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(E.a)(this,Object(D.a)(t).call(this,e))).airlinesScadule=Object(d.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:t=e.sent,a.setState({arrival:a.setRightTime(t.body.arrival),departure:a.setRightTime(t.body.departure)});case 4:case"end":return e.stop()}},e)})),a.setRightTime=function(e){for(var t=e,a=e.map(function(e){return new Date(e.timeToStand).toLocaleString()}),r=0;r<e.length;r++)t[r].timeToStand=a[r];return t},a.today=function(){return(new Date).toLocaleDateString("uk-UA")},a.yesterday=function(){return new Date((new Date).setDate((new Date).getDate()-1)).toLocaleDateString("uk-UA")},a.tomorrow=function(){return new Date((new Date).setDate((new Date).getDate()+1)).toLocaleDateString("uk-UA")},a.activeDay=function(e){switch(e){case"YESTERDAY":a.setState(function(e){return R({},e,{arrivalToShow:Object(i.a)(e.arrival).filter(function(e){return new Date(e.timeToStand).toLocaleDateString("uk-UA")===a.yesterday()}),departureToShow:Object(i.a)(e.departure).filter(function(e){return new Date(e.timeToStand).toLocaleDateString("uk-UA")===a.yesterday()})})});break;case"TODAY":a.setState(function(e){return R({},e,{arrivalToShow:Object(i.a)(e.arrival).filter(function(e){return new Date(e.timeToStand).toLocaleDateString("uk-UA")===a.today()}),departureToShow:Object(i.a)(e.departure).filter(function(e){return new Date(e.timeToStand).toLocaleDateString("uk-UA")===a.today()})})});break;case"TOMORROW":a.setState(function(e){return R({},e,{arrivalToShow:Object(i.a)(e.arrival).filter(function(e){return new Date(e.timeToStand).toLocaleDateString("uk-UA")===a.tomorrow()}),departureToShow:Object(i.a)(e.departure).filter(function(e){return new Date(e.timeToStand).toLocaleDateString("uk-UA")===a.tomorrow()})})});break;default:a.setState(function(e){return R({},e,{arrivalToShow:Object(i.a)(e.arrival).filter(function(e){return new Date(e.timeToStand).toLocaleDateString("uk-UA")===a.today()}),departureToShow:Object(i.a)(e.departure).filter(function(e){return new Date(e.timeToStand).toLocaleDateString("uk-UA")===a.today()})})})}},a.setItemForDetails=function(e){a.setState(function(t){return R({},t,{details:e})})},a.filterForCities=function(e){a.setState(function(t){return R({},t,{arrivalToShowFromFilter:Object(i.a)(t.arrivalToShow).filter(function(t){return t["airportFromID.city_en"].toLowerCase().includes(e.toLowerCase())}),departureToShowFromFilter:Object(i.a)(t.departureToShow).filter(function(t){return t["airportToID.city_en"].toLowerCase().includes(e.toLowerCase())})})})},a.buttonFromFilter=function(){a.setState(function(e){return R({},e,{arrivalToShow:e.arrivalToShowFromFilter,departureToShow:e.departureToShowFromFilter})})},a.state={arrival:[],departure:[],arrivalToShow:[],departureToShow:[],details:[],arrivalToShowFromFilter:[],departureToShowFromFilter:[]},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.airlinesScadule()}},{key:"render",value:function(){var e=this,t=this.state,a=t.departureToShow,r=t.arrivalToShow,c=t.details;return n.a.createElement("div",{className:"App"},n.a.createElement("h1",null,"SEARCH FLIGHT"),n.a.createElement(y.c,null,c.map(function(e){return n.a.createElement(y.a,{path:"/arrivalsDetails",exact:!0},n.a.createElement(I,{logo:e.airline.en.logoName,number:e.fltNo,from:e["airportFromID.name_en"],terminal:e.term,planeNo:e.planeNo,planeType:e["planeTypeID.name"],arrivalTime:new Date(e.timeToStand).toLocaleTimeString("uk-UA")}))}),c.map(function(e){return n.a.createElement(y.a,{path:"/departuresDetails",exact:!0},n.a.createElement(j,{logo:e.airline.en.logoName,number:e.fltNo,to:e["airportToID.name_en"],terminal:e.term,planeNo:e.planeNo,planeType:e["planeTypeID.name"],arrivalTime:new Date(e.timeToStand).toLocaleTimeString("uk-UA")}))}),n.a.createElement(y.a,{path:"/"},n.a.createElement(A,{filterForCities:this.filterForCities,buttonFromFilter:this.buttonFromFilter}),n.a.createElement("div",{className:"tableAndButtons"},n.a.createElement("div",{className:"buttons"},n.a.createElement(o.b,{to:"/departures",exact:!0,activeClassName:"activeButton",className:"button aName"},"Departures"),n.a.createElement(o.b,{to:"/arrivals",exact:!0,activeClassName:"activeButton",className:"button aName"},"Arrivals")),n.a.createElement(y.a,{path:"/arrivals/:day?",render:function(t){return n.a.createElement(F,Object.assign({},t,{arrival:r,activeDay:e.activeDay,yesterday:e.yesterday,today:e.today,tomorrow:e.tomorrow,setItemForDetails:e.setItemForDetails}))}}),n.a.createElement(y.a,{path:"/departures/:day?",render:function(t){return n.a.createElement(S,Object.assign({},t,{departure:a,activeDay:e.activeDay,yesterday:e.yesterday,today:e.today,tomorrow:e.tomorrow,setItemForDetails:e.setItemForDetails}))}})))))}}]),t}(n.a.Component);l.a.render(n.a.createElement(o.a,null,n.a.createElement(x,null)),document.getElementById("root"))}},[[150,1,2]]]);
//# sourceMappingURL=main.a81cf566.chunk.js.map